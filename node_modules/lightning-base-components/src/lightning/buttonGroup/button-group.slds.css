
/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved
  Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */

@supports (--styling-hooks: '') {
  :host([data-render-mode="shadow"]) [part='button-group'] {
    display: inline-flex;

    /**
     * Kill border radius, rebuild it below depending on position.
     */
    --slds-s-button-radius-border: 0;
  }

  /* Nudge buttons over to remove double border effect */
  :host([data-render-mode="shadow"]) [part='button-group'] ::slotted(:not(:first-child)) {
    margin-inline-start: calc(-1 * var(--sds-g-sizing-border-1, 1px));
  }

  /**
   * First child in group
   */
  :host([data-render-mode="shadow"]) [part='button-group'] ::slotted(:first-child) {
    --slds-s-button-radius-border-startstart: var(--sds-g-radius-border-2, 0.25rem);
    --slds-s-button-radius-border-endstart: var(--sds-g-radius-border-2, 0.25rem);
  }

  /**
   * Last child in group
   */
  :host([data-render-mode="shadow"]) [part='button-group'] ::slotted(:last-child) {
    --slds-s-button-radius-border-startend: var(--sds-g-radius-border-2, 0.25rem);
    --slds-s-button-radius-border-endend: var(--sds-g-radius-border-2, 0.25rem);
  }

  /**
   * Focused child in group
   *
   * Adds stacking context so the focus shadow is visible
   */
  :host([data-render-mode="shadow"]) [part='button-group'] ::slotted(:focus) {
    position: relative;
    z-index: 1;
  }
}
