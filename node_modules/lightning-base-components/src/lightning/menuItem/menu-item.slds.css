
/* Copyright (c) 2015-present, Salesforce, Inc. All rights reserved
  Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */

@supports (--styling-hooks: '') {
  /**
   * Note: .slds-dropdown__item class used to be on the host element. Moved to
   * new containing element to prevent duplicate styles in mixed-mode.
   */

  /**
   * Menu Item
   */
  :host([data-render-mode="shadow"]) a {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--sds-g-spacing-2, 0.5rem);
    position: relative;
    padding: var(--sds-g-spacing-2, 0.5rem) var(--sds-g-spacing-3, 0.75rem);
    color: var(--sds-g-color-neutral-base-10, #181818);
    line-height: var(--sds-g-font-lineheight-4, 1.5);
    font-weight: var(--sds-g-font-weight-4, 400);
    white-space: nowrap;
    cursor: pointer;
  }

  :host([data-render-mode="shadow"]) a:hover,:host([data-render-mode="shadow"]) 
  a:focus {
    outline: 0;
    text-decoration: none;
    background-color: var(--sds-g-color-neutral-base-95, #f3f3f3);
  }

  :host([data-render-mode="shadow"]) a:active {
    text-decoration: none;
    background-color: var(--sds-g-color-neutral-base-95, #f3f3f3);
  }

  :host([data-render-mode="shadow"]) a[aria-disabled='true'] {
    color: var(--sds-g-color-neutral-base-80, #c9c9c9);
    cursor: default;

    /* Reassignment - lightning-icon */
    --slds-c-icon-color-foreground-default: var(--sds-g-color-neutral-base-80, #c9c9c9);
    --slds-c-icon-boundary-spacing-inlineend: 25px;
  }

  /* TODO: bring in PostCSS fix and see if it fixes output CSS */
  :host([data-render-mode="shadow"]) a[aria-disabled='true']:hover,:host([data-render-mode="shadow"]) 
  a:host([data-render-mode="shadow"]) [aria-disabled='true']:focus {
    background-color: transparent;
  }

  /**
   * Note: these styles were originally on the "a" element above, but flex
   * context was lost because the truncate span was added, so we hijack the
   * span to get the layout control that we want. Display: flex on both the
   * "a" and "span" is intended, add prefix and suffix icons to see the
   * generated markup and it'll make sense.
   */
  :host([data-render-mode="shadow"]) .slds-truncate {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--sds-g-spacing-2, 0.5rem);
  }

  /**
   * State - Error
   *
   * @TODO: currently not supported by LBC
   */
  :host([data-render-mode="shadow"].slds-has-error) a {
    background: var(--sds-g-color-error-base-40, #ba0517);
  }

  /**
   * State - Success
   *
   * @TODO: currently not supported by LBC
   */
  :host([data-render-mode="shadow"].slds-has-success) a {
    background: var(--sds-g-color-success-base-70, #45c65a);
  }

  :host([data-render-mode="shadow"].slds-has-error) a,:host([data-render-mode="shadow"].slds-has-success) a {
    color: var(--sds-g-color-neutral-base-100, #ffffff);
  }

  /**
   * State - Warning
   *
   * @TODO: currently not supported by LBC
   */
  :host([data-render-mode="shadow"].slds-has-warning) a {
    background: var(--sds-g-color-warning-base-70, #fe9339);
  }

  :host([data-render-mode="shadow"].slds-has-warning) .slds-indicator_unread {
    background-color: currentcolor;
  }

  :host([data-render-mode="shadow"].slds-has-warning) .slds-indicator_unsaved {
    color: currentcolor;
  }

  :host([data-render-mode="shadow"].slds-has-error) a:hover,:host([data-render-mode="shadow"].slds-has-error) a:focus,:host([data-render-mode="shadow"].slds-has-success) a:hover,:host([data-render-mode="shadow"].slds-has-success) a:focus,:host([data-render-mode="shadow"].slds-has-warning) a:hover,:host([data-render-mode="shadow"].slds-has-warning) a:focus {
    text-decoration: underline;
  }

  /**
   * State - Selected
   *
   * We scope to aria-checked so we don't accidentally toggle prefix icons
   * which are a separate API.
   */
  :host([data-render-mode="shadow"]) [aria-checked='false'] lightning-primitive-icon::part(icon) {
    opacity: 0;
  }

  :host([data-render-mode="shadow"]) [aria-checked='true'] lightning-primitive-icon::part(icon) {
    opacity: 1;
  }

  /**
   * Status Indicator
   *
   * @TODO: Look into viability of refactoring into utility
   */
  :host([data-render-mode="shadow"]) .slds-indicator_unsaved,:host([data-render-mode="shadow"]) 
  .slds-indicator--unsaved {
    color: var(--sds-g-color-brand-base-50, #0176d3);
    align-self: center;
    position: relative;

    /* Unsaved indicator does not have gap spacing, everything else does */
    margin-inline-end: calc(var(--sds-g-spacing-2, 0.5rem) * -1);
  }
}
