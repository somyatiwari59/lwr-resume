var __create = Object.create;
var __defProp = Object.defineProperty;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __markAsModule = (target) => __defProp(target, "__esModule", {value: true});
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, {get: all[name], enumerable: true});
};
var __exportStar = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, {get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable});
  }
  return target;
};
var __toModule = (module2) => {
  return __exportStar(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? {get: () => module2.default, enumerable: true} : {value: module2, enumerable: true})), module2);
};

// packages/@lwrjs/config/src/defaults.ts
__markAsModule(exports);
__export(exports, {
  DEFAULT_AMD_BUNDLE_EXCLUSIONS: () => DEFAULT_AMD_BUNDLE_EXCLUSIONS,
  DEFAULT_AMD_LOADER: () => DEFAULT_AMD_LOADER,
  DEFAULT_AMD_LOADER_LEGACY: () => DEFAULT_AMD_LOADER_LEGACY,
  DEFAULT_ESM_BUNDLE_EXCLUSIONS: () => DEFAULT_ESM_BUNDLE_EXCLUSIONS,
  DEFAULT_ESM_LOADER: () => DEFAULT_ESM_LOADER,
  DEFAULT_GENERATOR_CONFIG: () => DEFAULT_GENERATOR_CONFIG,
  DEFAULT_LWR_CONFIG: () => DEFAULT_LWR_CONFIG,
  DEFAULT_LWR_CONFIG_JSON: () => DEFAULT_LWR_CONFIG_JSON,
  DEFAULT_LWR_MODULES: () => DEFAULT_LWR_MODULES,
  DEFAULT_ROOT_DIR: () => DEFAULT_ROOT_DIR,
  DEFAULT_SERVICE_PACKAGE_NAME: () => DEFAULT_SERVICE_PACKAGE_NAME,
  LWR_VERSION: () => LWR_VERSION,
  SSR_MODULE_PROVIDER: () => SSR_MODULE_PROVIDER,
  SSR_VIEW_TRANSFORM_PLUGIN: () => SSR_VIEW_TRANSFORM_PLUGIN,
  getDefaultBundleConfig: () => getDefaultBundleConfig
});
var import_shared_utils = __toModule(require("@lwrjs/shared-utils"));
var import_package = __toModule(require("@lwrjs/config/package"));
var import_runtime_config = __toModule(require("./runtime-config.cjs"));
var PORT = process.env.PORT ? parseInt(process.env.PORT, 10) : 3e3;
var MODE = process.env.MODE || "prod";
var DEFAULT_BASE_PATH = "";
var DEFAULT_API_VERSION = "1";
var LWR_VERSION = import_package.version;
var DEFAULT_SERVER_TYPE = "express";
var DEFAULT_LWR_CONFIG_JSON = "$rootDir/lwr.config.json";
var DEFAULT_GENERATOR_CONFIG = {
  outputDir: "site",
  locales: ["en-US"],
  skipCleanOutputDir: false,
  skipBaseDocumentGeneration: false,
  _additionalModules: [],
  _additionalRoutePaths: []
};
var DEFAULT_ROOT_DIR = process.cwd();
var DEFAULT_CACHE_FOLDER = "$rootDir/__lwr_cache__";
var DEFAULT_ASSETS_DIR = "$rootDir/src/assets";
var DEFAULT_CONTENT_DIR = "$rootDir/src/content";
var DEFAULT_LAYOUTS_DIR = "$rootDir/src/layouts";
var DEFAULT_DATA_DIR = "$rootDir/src/data";
var DEFAULT_MODULE_PROVIDERS = [
  "@lwrjs/app-service/moduleProvider",
  "@lwrjs/router/module-provider",
  "@lwrjs/lwc-module-provider",
  "@lwrjs/npm-module-provider"
];
var SSR_MODULE_PROVIDER = "@lwrjs/lwc-ssr/moduleProvider";
var DEFAULT_RESOURCE_PROVIDERS = ["@lwrjs/loader"];
var DEFAULT_VIEW_PROVIDERS = [
  "@lwrjs/nunjucks-view-provider",
  "@lwrjs/html-view-provider",
  "@lwrjs/markdown-view-provider",
  "@lwrjs/base-view-provider"
];
var DEFAULT_BUNDLE_PROVIDERS = [
  "@lwrjs/module-bundler/amd-bundle-provider",
  "@lwrjs/module-bundler/esm-bundle-provider"
];
var DEFAULT_VIEW_TRANSFORM_PLUGINS = ["@lwrjs/base-view-transformer"];
var SSR_VIEW_TRANSFORM_PLUGIN = "@lwrjs/lwc-ssr/viewTransformer";
var DEFAULT_ASSET_PROVIDERS = ["@lwrjs/fs-asset-provider"];
var DEFAULT_ASSET_TRANSFORM_PLUGINS = ["@lwrjs/asset-transformer"];
var DEFAULT_URI_TRANSFORM_PLUGINS = [];
var DEFAULT_AMD_LOADER = "lwr/loader";
var DEFAULT_AMD_LOADER_LEGACY = "lwr/loaderLegacy";
var DEFAULT_ESM_LOADER = "lwr/esmLoader";
var DEFAULT_SERVICE_PACKAGE_NAME = /lwr-(\w+)-service/;
var DEFAULT_LWR_MODULES = [
  {npm: "@lwc/engine-dom"},
  {npm: "@lwrjs/client-modules"},
  {npm: "@lwrjs/loader"},
  {npm: "@lwrjs/o11y"},
  {npm: "@lwrjs/router"},
  {npm: "@lwc/synthetic-shadow"}
];
var DEFAULT_ESM_BUNDLE_EXCLUSIONS = [
  "lwc",
  "@lwc/synthetic-shadow",
  "lwr/navigation",
  "lwr/esmLoader",
  "lwr/profiler",
  "@salesforce/lds-default-luvio"
];
var DEFAULT_AMD_BUNDLE_EXCLUSIONS = ["lwc", "lwr/navigation"];
var DEFAULT_ESM_BUNDLE_EXTERNALS = {};
var DEFAULT_AMD_BUNDLE_EXTERNALS = {
  "lwr/loader": "lwr-loader-shim.bundle.min.js",
  "lwr/profiler": "lwr-loader-shim.bundle.min.js"
};
var DEFAULT_AMD_LEGACY_BUNDLE_EXTERNALS = {
  "lwr/loaderLegacy": "lwr-loader-shim-legacy.bundle.min.js",
  "lwr/profiler": "lwr-loader-shim-legacy.bundle.min.js"
};
function getDefaultBundleConfig(mode) {
  const format = (0, import_runtime_config.getServerModeConfig)(mode || MODE).format;
  const loaderLegacy = (0, import_shared_utils.getFeatureFlags)().LEGACY_LOADER;
  return {
    exclude: format === "esm" ? DEFAULT_ESM_BUNDLE_EXCLUSIONS : DEFAULT_AMD_BUNDLE_EXCLUSIONS,
    external: format === "esm" ? DEFAULT_ESM_BUNDLE_EXTERNALS : loaderLegacy ? DEFAULT_AMD_LEGACY_BUNDLE_EXTERNALS : DEFAULT_AMD_BUNDLE_EXTERNALS
  };
}
var DEFAULT_LWR_CONFIG = {
  port: PORT,
  ignoreLwrConfigFile: false,
  lwrConfigFile: DEFAULT_LWR_CONFIG_JSON,
  basePath: DEFAULT_BASE_PATH,
  rootDir: DEFAULT_ROOT_DIR,
  cacheDir: DEFAULT_CACHE_FOLDER,
  serverMode: MODE,
  minify: null,
  apiVersion: DEFAULT_API_VERSION,
  assets: DEFAULT_ASSETS_DIR,
  assetProviders: DEFAULT_ASSET_PROVIDERS,
  assetTransformers: DEFAULT_ASSET_TRANSFORM_PLUGINS,
  contentDir: DEFAULT_CONTENT_DIR,
  layoutsDir: DEFAULT_LAYOUTS_DIR,
  staticSiteGenerator: DEFAULT_GENERATOR_CONFIG,
  globalDataDir: DEFAULT_DATA_DIR,
  globalData: {},
  hooks: [],
  bundleProviders: DEFAULT_BUNDLE_PROVIDERS,
  moduleProviders: DEFAULT_MODULE_PROVIDERS,
  resourceProviders: DEFAULT_RESOURCE_PROVIDERS,
  viewProviders: DEFAULT_VIEW_PROVIDERS,
  viewTransformers: DEFAULT_VIEW_TRANSFORM_PLUGINS,
  environment: {},
  lwc: {modules: []},
  routes: [],
  errorRoutes: [],
  routeHandlers: {},
  bundleConfig: getDefaultBundleConfig(MODE),
  serverType: DEFAULT_SERVER_TYPE,
  locker: import_shared_utils.DEFAULT_LWR_LOCKER_CONFIG,
  uriTransformers: DEFAULT_URI_TRANSFORM_PLUGINS
};
