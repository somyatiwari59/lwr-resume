function e(e){if(null==e)throw new TypeError("Provider must be defined.")}class t{constructor(e){this.infoMap=new WeakMap,this.defaultValue=e}getInfo(e){let t=this.infoMap.get(e);return void 0===t&&(t={consumers:new Set},this.infoMap.set(e,t)),t}setContext(t,n){e(t);const o=n,r=this.getInfo(t);r.contextValue=n,r.consumers.forEach((e=>e.provide(o))),0===r.consumers.size&&o?.onComplete&&o.onComplete()}getContext(t){e(t);const{contextValue:n}=this.getInfo(t);return void 0!==n?n:this.defaultValue}clearContext(t){e(t),this.infoMap.delete(t)}subscribeContext(t,n){e(t);const{consumers:o,contextValue:r}=this.getInfo(t);o.has(n)||(o.add(n),n.provide(r))}unsubscribeContext(t,n){e(t),this.getInfo(t).consumers.delete(n)}}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const i="LWR",a=1;function s(e,t){return Array.isArray(t)?e.replace(/\{([0-9]+)\}/g,((e,n)=>t[n])):e}function c(e,t){return`${e.code}: ${s(e.message,t)}`}function l(e,t){const n=o(o({},e),{},{message:s(e.message,t)});return e.address&&(n.address=s(e.address,t)),e.stack&&(n.stack=s(e.stack,t)),n}const u={INVALID_MIXIN_CMP:{code:`${i}4001`,message:"{0} must be an Element type",level:a},MISSING_CONTEXT:{code:`${i}4002`,message:"Could not find context to perform navigation action.",level:a},INVALID_CONTEXT:{code:`${i}4003`,message:"Cannot register navigation context; it must have this shape: { navigate, generateUrl, subscribe }",level:a},MULTIPLE_ROOTS:{code:`${i}4004`,message:"Router connection failed. There can only be one root router.",level:a},MULTIPLE_CHILDREN:{code:`${i}4005`,message:"Could not add to the navigation hierarchy. There can only be one child per navigation node.",level:a},MISSING_ROUTE:{code:`${i}4006`,message:'A route cannot be created to navigate to URL "{0}"',level:a,address:"{0}"},MISSING_URL:{code:`${i}4007`,message:'A URL cannot be created to navigate to route "{0}"',level:a,address:"{0}"},PRENAV_FAILED:{code:`${i}4008`,message:'A preNavigate hook listener blocked routing to "{0}"',level:2,address:"{0}"},MISSING_ROUTE_TEMPLATE:{code:`${i}4009`,message:'A route definition must contain a "uri" property.',level:a},MISSING_ROUTE_CMP:{code:`${i}4016`,message:"Expected a route view component with a default export.",level:a},MISSING_DATA_CONTEXT:{code:`${i}4018`,message:"Could not find context to retrieve navigation data.",level:a},INVALID_ROUTE_QUERY:{code:`${i}4019`,message:"Invalid query param in route definition.",level:a},MISSING_PAGE_BINDING:{code:`${i}4020`,message:"Route definition must provide page binding",level:a},INVALID_PAGE_BINDING:{code:`${i}4021`,message:"Invalid page binding in route definition",level:a},INVALID_URI_SYNTAX:{code:`${i}4022`,message:"Invalid uri syntax. URI cannot contain *, +, (, ), ",level:a},VIEW_IMPORT_FAILED:{code:`${i}4023`,message:'Error importing view with name "{0}", failure was: {1}',level:a,stack:"{2}"},VIEW_MISSING:{code:`${i}4024`,message:'Expected a view with name "{0}" in the viewset',level:a},VIEW_IMPORT_FAILED_WITH_SPECIFIER:{code:`${i}4025`,message:'Error importing module "{0}" from view with name "{1}", failure was: {2}',level:a,stack:"{3}"},NO_ROUTE_MATCH:{code:`${i}4026`,message:"A routing match cannot be found for: {0}",level:a},INVALID_ROUTE_HANDLER:{code:`${i}4027`,message:'Route definition "{0}" does not have a valid route handler module',level:a},DESTINATION_NOT_FOUND:{code:`${i}4028`,message:"Route handler returned 404: Not Found",level:a},DESTINATION_ERROR:{code:`${i}4029`,message:"Route handler returned error status {0}: {1}",level:a,stack:"{2}"}},d=new WeakMap;function v(e){const t=d.get(e);if(!t||!t.value)throw new Error(c(u.MISSING_CONTEXT));return t.value}function I(e,t){const n={id:e,value:t,update:e=>{n.value=e}};return d.set(n.id,n),n}function f(e){var t;return(t=class{constructor(e){this._callback=e}connect(){}disconnect(){}update(e,t){t&&this._callback(t)}static setContext(t,n){e.setContext(t,n)}static getContext(t){return e.getContext(t)}static clearContext(t){e.clearContext(t)}static subscribeContext(t,n){e.subscribeContext(t,n)}static unsubscribeContext(t,n){e.unsubscribeContext(t,n)}}).contextSchema={value:"required"},t}const g=f(new t(void 0)),m=f(new t(void 0)),p=new t(void 0),h=class extends(f(p)){async update(e,t){if(t){const n=e&&e.viewName?e.viewName:"default",o=t.viewset[n],r=o,i=r&&r.module||o;let a;if(i)try{const e=await i(),t=e&&e.default;if(!t||void 0===t.constructor)throw new Error("error occurred with view import");this._callback(t)}catch(e){const t=e;a=r.specifier?l(u.VIEW_IMPORT_FAILED_WITH_SPECIFIER,[r.specifier,n,t.message,t.stack||""]):l(u.VIEW_IMPORT_FAILED,[n,t.message,t.stack||""])}else a=l(u.VIEW_MISSING,[n]);t.onComplete&&t.onComplete(a)}}};function b(e,t,n){v(e).navigate(t,n)}function E(e,t){return v(e).generateUrl(t)}const _=`universalcontainergetnavigationcontext${Math.floor(65536*(1+Math.random())).toString(16).substring(1)}`,N="undefined"==typeof window,w=Symbol("Navigate"),O=Symbol("GenerateUrl"),S=Symbol("NavContext"),C=Symbol("NavContext");function T(e){!function(e,t,n){if(!e)throw new Error(c(t,n))}("function"==typeof e.prototype.dispatchEvent,u.INVALID_MIXIN_CMP,[e.toString()]);return class extends e{[C](){if(!this[S]&&(this.dispatchEvent(new CustomEvent(_,{bubbles:!0,composed:!0,detail:{callback:e=>{this[S]=e}}})),!this[S]))throw new Error(c(u.MISSING_CONTEXT))}[w](e,t){N||(this[C](),b(this[S],e,t))}async[O](e){return N?null:(this[C](),E(this[S],e))}}}T.Navigate=w,T.GenerateUrl=O,T.NavContext=S;export{t as ContextInfo,m as CurrentPageReference,h as CurrentView,g as NavigationContext,T as NavigationMixin,f as generateContextualWireAdapter,E as generateUrl,v as getNavigationHelm,b as navigate,I as registerNavigationHelm};
//# sourceMappingURL=navigation.js.map
